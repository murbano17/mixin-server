(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{167:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(54),s=a.n(c),u=a(5),o=a(13),i=a(14),l=a(20),m=a(19),p=(a(65),a(4)),d=a(2),g=a.n(d),f=a(3),v=a(55),b=a.n(v),_=new(function(){function e(){var t=this;Object(o.a)(this,e),this.loginGoogle=function(){var e=Object(f.a)(g.a.mark((function e(a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.tokenId,e.next=3,t.services.post("/api/auth/googlelogin",{tokenId:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.logout=Object(f.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.post("/api/auth/logout",{});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))),this.me=Object(f.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.get("/api/auth/me");case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))),this.user=Object(f.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.services.get("/api/auth/user"),e.abrupt("return",a.data);case 2:case"end":return e.stop()}}),e)}))),this.products=Object(f.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.get("/api/products");case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))),this.cart=Object(f.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.get("/api/products/cart");case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)}))),this.addproduct=function(){var e=Object(f.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.post("api/products/addproduct/".concat(a));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.delete=function(){var e=Object(f.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.post("api/products/deleteproduct",{_id:a});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addquantity=function(){var e=Object(f.a)(g.a.mark((function e(a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.post("api/products/addquantity",{_id:a,quantity:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.payment=function(){var e=Object(f.a)(g.a.mark((function e(a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.services.post("/api/products/payment",{id:a,amount:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.services=b.a.create({baseURL:"https://mixinbeauty.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.email,n=e.password;console.log(this.services);var r=this.services.post("/api/auth/signup",{username:t,email:a,password:n});return r.then((function(e){return e.data})).catch((function(e){return e})),r}},{key:"login",value:function(e){var t=e.email,a=e.password,n=this.services.post("/api/auth/login",{email:t,password:a});return n.then((function(e){return e.data})).catch((function(e){return e.error})),console.log(n),n}}]),e}()),E=r.a.createContext(),h=E.Consumer,N=E.Provider,y=function(e){return function(t){Object(l.a)(n,t);var a=Object(m.a)(n);function n(){return Object(o.a)(this,n),a.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(h,null,(function(a){var n=a.login,c=a.loginGoogle,s=a.signup,u=a.user,o=a.logout,i=a.isLoggedin,l=a.cart,m=a.userCart,p=a.message;return r.a.createElement(e,Object.assign({login:n,loginGoogle:c,signup:s,user:u,logout:o,userCart:m,cart:l,isLoggedin:i,message:p},t.props))}))}}]),n}(r.a.Component)},k=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedin:!1,user:null,isLoading:!0,cart:[],message:null},e.signup=function(t){var a=t.username,n=t.email,r=t.password,c=_.signup({username:a,email:n,password:r});return c.then((function(t){return e.setState({isLoggedin:!0,user:t,message:null})})).catch((function(t){return e.setState({message:t.response.data.message})})),c},e.login=function(t){var a=t.email,n=t.password,r=_.login({email:a,password:n});return r.then((function(t){return e.setState({isLoggedin:!0,user:t,message:null})})).catch((function(t){return e.setState({message:t.response.data.message})})),r},e.loginGoogle=function(){var t=Object(f.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.tokenId,t.prev=1,t.next=4,_.loginGoogle({tokenId:n});case 4:r=t.sent,e.setState({isLoggedin:!0,user:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.logout=Object(f.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.logout();case 3:e.setState({isLoggedin:!1,user:null}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),e.userCart=Object(f.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.cart();case 3:a=t.sent,e.setState({cart:a.products}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;_.me().then((function(t){return e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,c=e.cart,s=e.message,u=this.login,o=this.logout,i=this.signup,l=this.loginGoogle,m=this.userCart;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(N,{value:{isLoggedin:a,user:n,cart:c,message:s,login:u,logout:o,signup:i,loginGoogle:l,userCart:m}},this.props.children)}}]),a}(r.a.Component),j=a(6),O=y((function(e){var t=e.logout,a=e.isLoggedin,c=e.cart,s=e.userCart,o=Object(n.useState)(!1),i=Object(j.a)(o,2),l=i[0],m=i[1],p=function(){m(!l)};return Object(n.useEffect)((function(){(function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("nav",{className:"navbar"},r.a.createElement(u.b,{to:"/products"},r.a.createElement("h1",{className:"navbar__logo"},"mixin")),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"menu-icon",onClick:p},r.a.createElement("i",{className:l?"fa fa-times":"fa fa-bars"})),r.a.createElement("ul",{className:l?"navbar__menu active":"navbar__menu"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/cart",className:"navbar__links navbar__links--mycart",onClick:p},"cart",c.length>0&&r.a.createElement("span",{className:"navbar__links--mycart-number"},c.length))),r.a.createElement("li",{className:"navbar__links-mobile",onClick:function(){m(!l),t()}},"Log out"))))})),w=a(57),x=a.n(w),C=y((function(e){var t=function(){var t=Object(f.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.tokenId,t.next=3,a.profileObj.givenName;case 3:r=t.sent,e.loginGoogle({tokenId:n,user:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"sign__google"},r.a.createElement(x.a,{clientId:"180040016324-j06hkn7aoj96o96k7068ga2v0gu012bp.apps.googleusercontent.com",buttonText:"Log in",onSuccess:t,cookiePolicy:"single_host_origin",render:function(t){return r.a.createElement("div",{className:"btn-google",onClick:t.onClick},r.a.createElement("div",{className:"btn-google-img"}),r.a.createElement("p",{className:"btn-google-text"},"login"===e.type?"Log in with google":"Sign up with google"))}}))})),L=a(22),S=a(30),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),a=Object(j.a)(t,2),r=a[0],c=a[1],s=function(){c(e)},u=function(e){var t=e.target;c(Object(S.a)(Object(S.a)({},r),{},Object(L.a)({},t.name,t.value)))};return[r,u,s]},q=a(58),P=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],r=t[1];return[function(e){for(var t in e)if(!e[t])return r("* Please complete all the required fields "),!1;return!!Object(q.isEmail)(e.email)||(r("* Email is not valid "),!1)},a]},F=y((function(e){var t=I({username:"",email:"",password:""}),a=Object(j.a)(t,2),n=a[0],c=a[1],s=P(),o=Object(j.a)(s,2),i=o[0],l=o[1],m=n.username,p=n.email,d=n.password;return r.a.createElement("div",{className:"sign"},r.a.createElement("h1",{className:"sign__heading"},"Welcome!"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),i(n)&&e.signup(n)},className:"sign__form"},r.a.createElement("label",{className:"sign__form-label",htmlFor:"username"},"Username *"),r.a.createElement("input",{className:"sign__form-input",type:"text",name:"username",id:"username",value:m,onChange:c}),r.a.createElement("label",{className:"sign__form-label",htmlFor:"email-sign"},"Email *"),r.a.createElement("input",{className:"sign__form-input",type:"text",name:"email",id:"email-sign",value:p,onChange:c}),r.a.createElement("label",{className:"sign__form-label",htmlFor:"password-sign"},"Password *"),r.a.createElement("input",{className:"sign__form-input",type:"password",name:"password",id:"password-sign",value:d,onChange:c}),e.message&&r.a.createElement("p",{className:"sign__form-error"},e.message),l&&r.a.createElement("p",{className:"sign__form-error"},l),r.a.createElement("button",{className:"btn btn-sign",type:"submit"},"Sign up")),r.a.createElement(C,{type:"signup"}),r.a.createElement("p",{className:"sign__message"},"Don't have an account?",r.a.createElement(u.b,{to:"/login"},r.a.createElement("span",null,"Create one"))))})),G=y((function(e){var t=I({email:"",password:""}),a=Object(j.a)(t,2),n=a[0],c=a[1],s=P(),o=Object(j.a)(s,2),i=o[0],l=o[1],m=n.email,p=n.password;return r.a.createElement("div",{className:"sign"},r.a.createElement("h1",{className:"sign__heading"},"Welcome back!"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),i(n)&&e.login(n)},className:"sign__form"},r.a.createElement("label",{className:"sign__form-label",htmlFor:"email"},"Email *"),r.a.createElement("input",{className:"sign__form-input",type:"text",name:"email",id:"email",placeholder:"email@email.com",value:m,onChange:c}),r.a.createElement("label",{className:"sign__form-label",htmlFor:"password"},"Password *"),r.a.createElement("input",{className:"sign__form-input",type:"password",id:"password",name:"password",placeholder:"******",value:p,onChange:c}),e.message&&r.a.createElement("p",{className:"sign__form-error"},e.message),l&&r.a.createElement("p",{className:"sign__form-error"},l),r.a.createElement("button",{className:"btn btn-sign",type:"submit"},"Log in")),r.a.createElement(C,{type:"login"}),r.a.createElement("p",{className:"sign__message"},"Already have an account?",r.a.createElement(u.b,{to:"/signup"},r.a.createElement("span",null,"Sign up"))))})),D=a(23),T=y((function(e){var t=e.component,a=e.isLoggedin,n=Object(D.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(p.a,{to:"/products"}):r.a.createElement(t,e)}}))})),M=y((function(e){var t=e.component,a=e.isLoggedin,n=Object(D.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/"})}}))})),Q=y((function(e){for(var t=e.productsPerPage,a=e.totalProducts,n=e.paginate,c=e.currentPage,s=[],u=1;u<=Math.ceil(a/t);u++)s.push(u);return r.a.createElement("ul",{className:"pagination__ul"},s.map((function(e){return r.a.createElement("li",{key:e,onClick:function(){return n(e)},className:(c===e?"active ":"")+"controls"},e)})))})),A=y((function(e){var t=e.products,a=e.userCart,c=e.addItemToCart;return Object(n.useEffect)((function(){(function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("ul",{className:"card__list"},t.map((function(e){return r.a.createElement("li",{className:"card",key:e._id},r.a.createElement(u.b,{className:"link",to:{pathname:"/products/".concat(e._id),state:{product:e}}},r.a.createElement("div",null,r.a.createElement("div",{className:"card__image-container"},r.a.createElement("img",{src:e.image_link,alt:e.name,className:"card__image"})),r.a.createElement("div",{className:"card__info"},r.a.createElement("h3",{className:"card__info--name"},e.name),r.a.createElement("p",{className:"card__info--brand"},e.brand),r.a.createElement("p",{className:"card__info--price"},e.price_sign,e.price)))),r.a.createElement("div",{className:"card__button-container"},r.a.createElement("button",{className:"btn btn-buy",onClick:function(){return c(e._id)}},r.a.createElement("i",{className:"fa fa-cart-plus"}))))})))})),B=y((function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),c=a[0],s=a[1],u=Object(n.useState)(!1),o=Object(j.a)(u,2),i=o[0],l=o[1],m=Object(n.useState)(1),p=Object(j.a)(m,2),d=p[0],v=p[1],b=Object(n.useState)(40),E=Object(j.a)(b,1)[0],h=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,_.products();case 3:t=e.sent,s(t),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.addproduct(a);case 2:return t.next=4,e.userCart();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){h()}),[]);var y=d*E,k=y-E,O=c.slice(k,y);return r.a.createElement("div",null,r.a.createElement(A,{products:O,loading:i,addItemToCart:N}),r.a.createElement(Q,{productsPerPage:E,totalProducts:c.length,paginate:function(e){return v(e)},currentPage:d}))})),U=function(e){var t=e.location,a=e.history,n=t.state.product,c=n.name,s=n.brand,u=n.price,o=n.image_link,i=n.price_sign,l=n.description;return r.a.createElement("div",{className:"detail"},r.a.createElement("p",{onClick:function(){return a.push("/products")},className:"detail__go-back"},r.a.createElement("i",{className:"fa fa-arrow-left"}),"go back"),r.a.createElement("div",{className:"detail__container"},r.a.createElement("img",{className:"detail__image",src:o,alt:c}),r.a.createElement("div",{className:"detail__info"},r.a.createElement("h1",{className:"detail__name"}," ",c," "),r.a.createElement("h3",{className:"detail__brand"},s),r.a.createElement("p",{className:"detail__description"},l),r.a.createElement("p",{className:"detail__price"},i,u))))},W=y((function(e){var t=e.product,a=e.deleteProduct,n=e.addQuantity,c=e.removeQuantity;return r.a.createElement("li",{className:"cart__product-cart"},r.a.createElement("div",{className:"cart__product-cart__image-container"},r.a.createElement("img",{src:t.product.image_link,alt:t.product.name,className:"cart__product-cart__image"})),r.a.createElement("div",{className:"cart__product-cart__info"},r.a.createElement("h3",{className:"cart__product-cart__name"},t.product.name),r.a.createElement("p",{className:"cart__product-cart__price"},t.product.price_sign,t.product.price),r.a.createElement("div",{className:"cart__product-add"},r.a.createElement("p",{onClick:function(){return a(t._id)},className:"btn-remove"},"delete"),r.a.createElement("button",{className:"btn-add",onClick:function(){return c(t._id,t.quantity)}},"-"),r.a.createElement("p",{className:"cart__product-add--quantity"},t.quantity),r.a.createElement("button",{className:"btn-add",onClick:function(){return n(t._id,t.quantity)}},"+")),r.a.createElement("div",{className:"cart__product-cart__subtotal"},r.a.createElement("p",null,"Subtotal:",r.a.createElement("span",null,t.product.price_sign,parseInt(t.quantity)*parseInt(t.product.price))))))})),J=y((function(e){Object(n.useEffect)((function(){(function(){var t=Object(f.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.userCart();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var t=function(){var t=Object(f.a)(g.a.mark((function t(a){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.delete(a);case 2:return t.next=4,e.userCart();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(e){var t=0;return e.map((function(e){var a=parseInt(e.product.price),n=e.quantity*a;t+=n})),t},c=function(){var t=Object(f.a)(g.a.mark((function t(a,n){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n+1,t.next=3,_.addquantity(a,r);case 3:return t.next=5,e.userCart();case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),s=function(){var a=Object(f.a)(g.a.mark((function a(n,r){var c;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(c=r-1)){a.next=7;break}return t(n),a.next=5,e.userCart();case 5:a.next=11;break;case 7:return a.next=9,_.addquantity(n,c);case 9:return a.next=11,e.userCart();case 11:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"cart"},r.a.createElement("h1",{className:"cart__heading"},"your cart"),r.a.createElement("ul",{className:"cart__list"},e.cart.length>0?e.cart.map((function(e){return r.a.createElement(W,{key:e._id,product:e,deleteProduct:t,addQuantity:c,removeQuantity:s})})):r.a.createElement("div",{className:"cart__empty"},r.a.createElement("p",{className:"cart__empty-text"},"Your cart is empty!"),r.a.createElement(u.b,{to:"/products"},r.a.createElement("button",{className:"btn btn-secondary"},"See products")))),e.cart.length>0&&r.a.createElement("div",{className:"cart__total"},r.a.createElement("p",{className:"cart__total-price"},"Total: ",r.a.createElement("span",null,"$",a(e.cart)))),e.cart.length>0&&r.a.createElement(u.b,{to:{pathname:"/checkout",state:{amount:a(e.cart)}}},r.a.createElement("button",{className:"btn-secondary"},"Check out")))})),R=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home__info"},r.a.createElement("h1",{className:"home__heading animate__animated animate__bounceInLeft"},"Welcome to ",r.a.createElement("br",null),r.a.createElement("span",null,"mixin!")),r.a.createElement("div",{className:"home__btn-container"},r.a.createElement(u.b,{to:"/login"},r.a.createElement("button",{className:"btn btn-home"},"Log In")),r.a.createElement(u.b,{to:"/signup"},r.a.createElement("button",{className:"btn btn-home btn-home-sign"},"Sign Up")))))},V=y((function(e){var t=e.amount,a=e.cart;return r.a.createElement("div",{className:"summary"},r.a.createElement("div",{className:"summary__container"},r.a.createElement("h3",{className:"summary__heading"},"Order summary"),a.map((function(e){return r.a.createElement("div",{key:e._id,className:"summary__product"},r.a.createElement("p",{className:"summary__product-name"},e.product.name),r.a.createElement("p",{className:"summary__product-quantity"},"Quantity: ",e.quantity),r.a.createElement("p",{className:"summary__product-price"},e.product.price_sign,e.product.price))})),r.a.createElement("div",{className:"summary__total"},r.a.createElement("p",{className:"summary__total-title"},"Total:"),r.a.createElement("p",{className:"summary__total-price"},"$",t))))})),Y=a(59),$=a(16),z=Object(Y.a)("pk_test_51IDVojLhSBggkat8F8GoR1bsFDXbtqnvN7ImfpbMylmAImhyW4TYz1IbBd71yJHgr2c5vRgghArVyu7FqLE7kuCf00L9ISUDL3"),H=function(e){var t=e.amount,a=Object($.useStripe)(),c=Object($.useElements)(),s=Object(n.useState)(!1),u=Object(j.a)(s,2),o=u[0],i=u[1],l=Object(n.useState)(null),m=Object(j.a)(l,2),p=m[0],d=m[1];console.log(p);var v=function(){var e=Object(f.a)(g.a.mark((function e(n){var r,s,u,o,l,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,a.createPaymentMethod({type:"card",card:c.getElement($.CardElement)});case 3:if(r=e.sent,s=r.error,u=r.paymentMethod,i(!0),s){e.next=22;break}return o=u.id,e.prev=9,l=100*t,e.next=13,_.payment(o,l);case 13:m=e.sent,d(m.message),c.getElement($.CardElement).clear(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),console.log(e.t0);case 21:i(!1);case 22:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:v,className:"payment__form"},r.a.createElement($.CardElement,null),r.a.createElement("button",{disabled:!a,className:"btn btn-secondary"},o?r.a.createElement("span",null,"Loading..."):"Buy"),p&&r.a.createElement("p",{className:"sign__message"}," ",p))},X=y((function(e){var t=e.amount;return r.a.createElement($.Elements,{stripe:z},r.a.createElement(H,{amount:t}))})),K=y((function(e){var t=e.location.state.amount;return r.a.createElement("div",{className:"checkout"},r.a.createElement(V,{amount:t}),r.a.createElement(X,{amount:t}))})),Z=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(k,null,r.a.createElement("div",{className:"container"},r.a.createElement(O,null),r.a.createElement(p.d,null,r.a.createElement(T,{exact:!0,path:"/",component:R}),r.a.createElement(T,{exact:!0,path:"/signup",component:F}),r.a.createElement(T,{exact:!0,path:"/login",component:G}),r.a.createElement(M,{exact:!0,path:"/products",component:B}),r.a.createElement(M,{exact:!0,path:"/cart",component:J}),r.a.createElement(M,{exact:!0,path:"/products/:id",component:U}),r.a.createElement(M,{exact:!0,path:"/checkout",component:K}))))}}]),a}(n.Component);s.a.render(r.a.createElement(u.a,null,r.a.createElement(Z,null)),document.getElementById("root"))},60:function(e,t,a){e.exports=a(167)},65:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.28187a2b.chunk.js.map